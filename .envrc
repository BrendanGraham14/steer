# .envrc
# Use `direnv allow` to load the Nix development environment.
# For best results (especially preserving aliases), install nix-direnv first:
# https://github.com/nix-community/nix-direnv

# Share one direnv cache across all jj workspaces of this repo.
if [[ -f .jj/repo ]]; then
  jj_repo_ptr="$(cat .jj/repo)"
  jj_cache_key="$(printf '%s' "$jj_repo_ptr" | shasum -a 256 | awk '{print $1}')"
  export direnv_layout_dir="${XDG_CACHE_HOME:-$HOME/.cache}/direnv/jj/${jj_cache_key}"
fi

use flake
